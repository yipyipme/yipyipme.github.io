import{i as A,k as S,r as m,j as e,n as j,U as y,A as _,o as B,p as E,q as k,S as F,B as c,m as x,t as P,C as I}from"./index-Ct_SM0vh.js";import{L as n}from"./label-BVRhAaC2.js";import{T as L}from"./textarea-CBKetNLb.js";import{C as N,d as p,a as T,b as U}from"./card-INzX4pkU.js";const M=()=>{var g,b;const{user:i,profile:a,updateProfile:f}=A(),{toast:o}=S(),[r,d]=m.useState(!1),[u,h]=m.useState(!1),[t,l]=m.useState({username:(a==null?void 0:a.username)||"",full_name:(a==null?void 0:a.full_name)||"",bio:(a==null?void 0:a.bio)||""}),v=async()=>{h(!0);try{const{error:s}=await f(t);s?o({title:"Error",description:s.message||"Failed to update profile",variant:"destructive"}):(o({title:"Success",description:"Profile updated successfully!"}),d(!1))}catch{o({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{h(!1)}},w=()=>{l({username:(a==null?void 0:a.username)||"",full_name:(a==null?void 0:a.full_name)||"",bio:(a==null?void 0:a.bio)||""}),d(!1)},C=s=>{switch(s){case"admin":return e.jsx(I,{className:"h-4 w-4"});case"creator":return e.jsx(P,{className:"h-4 w-4"});default:return e.jsx(y,{className:"h-4 w-4"})}},D=s=>{switch(s){case"admin":return"bg-purple-500 text-white";case"creator":return"bg-[#FDBD34] text-black";default:return"bg-gray-500 text-white"}};return!i||!a?e.jsx(j,{children:e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsx("div",{className:"text-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-300",children:"Please sign in to view your profile"})})})}):e.jsx(j,{children:e.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-2xl",children:e.jsx(y,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold gradient-text",children:"My Profile"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(N,{className:"bg-gray-900/50 border-gray-800",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsxs(_,{className:"w-32 h-32 mx-auto mb-4",children:[e.jsx(B,{src:a.avatar_url,alt:a.full_name}),e.jsx(E,{className:"text-2xl bg-gray-700 text-white",children:((g=a.full_name)==null?void 0:g.charAt(0))||((b=i.email)==null?void 0:b.charAt(0).toUpperCase())})]}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a.full_name||"Anonymous User"}),a.username&&e.jsxs("p",{className:"text-gray-400 mb-3",children:["@",a.username]}),e.jsxs(k,{className:`${D(a.role)} mb-4`,children:[C(a.role),e.jsx("span",{className:"ml-1 capitalize",children:a.role})]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Member since ",new Date(a.created_at).toLocaleDateString()]})]})})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(N,{className:"bg-gray-900/50 border-gray-800",children:[e.jsxs(T,{className:"flex flex-row items-center justify-between",children:[e.jsxs(U,{className:"text-white flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Profile Information"]}),r?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:w,variant:"outline",className:"border-gray-700 text-gray-300",children:"Cancel"}),e.jsx(c,{onClick:v,disabled:u,className:"bg-[#FDBD34] text-black hover:bg-[#FDBD34]/80",children:u?"Saving...":"Save"})]}):e.jsx(c,{onClick:()=>d(!0),variant:"outline",className:"border-gray-700 text-gray-300 hover:text-[#FDBD34]",children:"Edit Profile"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-gray-300",children:"Email"}),e.jsx(x,{value:i.email||"",disabled:!0,className:"bg-gray-800 border-gray-700 text-gray-400"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-gray-300",children:"Username"}),e.jsx(x,{value:t.username,onChange:s=>l({...t,username:s.target.value}),disabled:!r,placeholder:"Choose a unique username",className:"bg-gray-800 border-gray-700 text-white disabled:text-gray-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-gray-300",children:"Full Name"}),e.jsx(x,{value:t.full_name,onChange:s=>l({...t,full_name:s.target.value}),disabled:!r,placeholder:"Your full name",className:"bg-gray-800 border-gray-700 text-white disabled:text-gray-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-gray-300",children:"Bio"}),e.jsx(L,{value:t.bio,onChange:s=>l({...t,bio:s.target.value}),disabled:!r,placeholder:"Tell us about yourself...",rows:4,className:"bg-gray-800 border-gray-700 text-white disabled:text-gray-400 resize-none"})]}),a.role==="user"&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[e.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"Want to become a creator?"}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Apply to become a creator and start sharing your content with the YipYip community."}),e.jsx(c,{onClick:()=>window.location.href="/creator-application",className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Apply Now"})]})]})]})})]})]})})};export{M as default};
