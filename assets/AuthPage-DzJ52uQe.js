import{c as te,a as ie,b as V,r as m,u as ne,d as oe,j as e,e as le,P as N,R as ce,I as de,f as C,g as ue,h as T,i as me,k as ge,l as he,Y as xe,B as v,L as w,m as b,s as F}from"./index-Ct_SM0vh.js";import{L as y}from"./label-BVRhAaC2.js";import{C as pe,a as E,b as M,c as D,d as R}from"./card-INzX4pkU.js";import{A as B,a as O}from"./alert-CtKX3wDI.js";import{S as L}from"./separator-BcQOtIn0.js";import{E as _}from"./eye-C2eUJ_mm.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var I="Tabs",[fe,Te]=ie(I,[V]),Y=V(),[ve,P]=fe(I),G=m.forwardRef((a,s)=>{const{__scopeTabs:t,value:o,onValueChange:l,defaultValue:r,orientation:c="horizontal",dir:h,activationMode:f="automatic",...p}=a,g=ne(h),[n,x]=oe({prop:o,onChange:l,defaultProp:r});return e.jsx(ve,{scope:t,baseId:le(),value:n,onValueChange:x,orientation:c,dir:g,activationMode:f,children:e.jsx(N.div,{dir:g,"data-orientation":c,...p,ref:s})})});G.displayName=I;var H="TabsList",$=m.forwardRef((a,s)=>{const{__scopeTabs:t,loop:o=!0,...l}=a,r=P(H,t),c=Y(t);return e.jsx(ce,{asChild:!0,...c,orientation:r.orientation,dir:r.dir,loop:o,children:e.jsx(N.div,{role:"tablist","aria-orientation":r.orientation,...l,ref:s})})});$.displayName=H;var q="TabsTrigger",U=m.forwardRef((a,s)=>{const{__scopeTabs:t,value:o,disabled:l=!1,...r}=a,c=P(q,t),h=Y(t),f=J(c.baseId,o),p=Q(c.baseId,o),g=o===c.value;return e.jsx(de,{asChild:!0,...h,focusable:!l,active:g,children:e.jsx(N.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:f,...r,ref:s,onMouseDown:C(a.onMouseDown,n=>{!l&&n.button===0&&n.ctrlKey===!1?c.onValueChange(o):n.preventDefault()}),onKeyDown:C(a.onKeyDown,n=>{[" ","Enter"].includes(n.key)&&c.onValueChange(o)}),onFocus:C(a.onFocus,()=>{const n=c.activationMode!=="manual";!g&&!l&&n&&c.onValueChange(o)})})})});U.displayName=q;var K="TabsContent",W=m.forwardRef((a,s)=>{const{__scopeTabs:t,value:o,forceMount:l,children:r,...c}=a,h=P(K,t),f=J(h.baseId,o),p=Q(h.baseId,o),g=o===h.value,n=m.useRef(g);return m.useEffect(()=>{const x=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(ue,{present:l||g,children:({present:x})=>e.jsx(N.div,{"data-state":g?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:p,tabIndex:0,...c,ref:s,style:{...a.style,animationDuration:n.current?"0s":void 0},children:x&&r})})});W.displayName=K;function J(a,s){return`${a}-trigger-${s}`}function Q(a,s){return`${a}-content-${s}`}var be=G,X=$,Z=U,ee=W;const ye=be,ae=m.forwardRef(({className:a,...s},t)=>e.jsx(X,{ref:t,className:T("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s}));ae.displayName=X.displayName;const A=m.forwardRef(({className:a,...s},t)=>e.jsx(Z,{ref:t,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s}));A.displayName=Z.displayName;const S=m.forwardRef(({className:a,...s},t)=>e.jsx(ee,{ref:t,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s}));S.displayName=ee.displayName;const Ie=()=>{const[a,s]=m.useState(!1),[t,o]=m.useState(!1),[l,r]=m.useState(""),{signIn:c,signUp:h,cleanupAuthState:f}=me(),{toast:p}=ge(),g=he(),[n,x]=m.useState({email:"",password:""}),[d,j]=m.useState({email:"",password:"",fullName:"",confirmPassword:""}),k=async()=>{s(!0),r("");try{console.log("Starting OAuth sign in..."),f();try{await F.auth.signOut({scope:"global"}),console.log("Global sign out completed before OAuth")}catch(u){console.log("Sign out before OAuth failed (continuing):",u)}const{error:i}=await F.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});i?(console.error("OAuth error:",i),r(i.message)):console.log("OAuth initiated successfully")}catch(i){console.error("OAuth sign in error:",i),r("An unexpected error occurred. Please try again.")}finally{s(!1)}},se=async i=>{i.preventDefault(),s(!0),r("");try{const{error:u}=await c(n.email,n.password);u?u.message.includes("Invalid login credentials")?r("Invalid email or password. Please check your credentials and try again."):u.message.includes("Email not confirmed")?r("Please check your email and click the confirmation link before signing in."):r(u.message):p({title:"Welcome back!",description:"You have successfully signed in."})}catch(u){r("An unexpected error occurred. Please try again."),console.error("Sign in error:",u)}finally{s(!1)}},re=async i=>{if(i.preventDefault(),s(!0),r(""),d.password!==d.confirmPassword){r("Passwords do not match"),s(!1);return}if(d.password.length<6){r("Password must be at least 6 characters long"),s(!1);return}try{const{error:u}=await h(d.email,d.password,d.fullName);u?u.message.includes("User already registered")?r("An account with this email already exists. Please sign in instead."):r(u.message):(p({title:"Account created!",description:"Please check your email for a confirmation link."}),j({email:"",password:"",fullName:"",confirmPassword:""}))}catch(u){r("An unexpected error occurred. Please try again."),console.error("Sign up error:",u)}finally{s(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{className:"mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Welcome to YipYip"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Your premier destination for Christian content"})]}),e.jsx(pe,{className:"bg-gray-900/50 border-gray-700",children:e.jsxs(ye,{defaultValue:"signin",className:"w-full",children:[e.jsxs(ae,{className:"grid w-full grid-cols-2 bg-gray-800",children:[e.jsx(A,{value:"signin",className:"text-gray-300 data-[state=active]:text-white",children:"Sign In"}),e.jsx(A,{value:"signup",className:"text-gray-300 data-[state=active]:text-white",children:"Sign Up"})]}),e.jsxs(S,{value:"signin",children:[e.jsxs(E,{children:[e.jsx(M,{className:"text-white",children:"Sign In"}),e.jsx(D,{className:"text-gray-400",children:"Enter your credentials to access your account"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs(v,{onClick:k,disabled:a,className:"w-full bg-white text-black hover:bg-gray-100 border border-gray-300",children:[a?e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(L,{className:"w-full bg-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:se,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"signin-email",className:"text-gray-300",children:"Email"}),e.jsx(b,{id:"signin-email",type:"email",placeholder:"your@email.com",value:n.email,onChange:i=>x({...n,email:i.target.value}),required:!0,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"signin-password",className:"text-gray-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"signin-password",type:t?"text":"password",placeholder:"Enter your password",value:n.password,onChange:i=>x({...n,password:i.target.value}),required:!0,className:"bg-gray-800 border-gray-700 text-white pr-10"}),e.jsx(v,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white",onClick:()=>o(!t),children:t?e.jsx(z,{className:"h-4 w-4"}):e.jsx(_,{className:"h-4 w-4"})})]})]}),l&&e.jsx(B,{className:"bg-red-900/20 border-red-800",children:e.jsx(O,{className:"text-red-400",children:l})}),e.jsx(v,{type:"submit",className:"w-full bg-[#FDBD34] text-black hover:bg-[#FDBD34]/80",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"})]})]})]}),e.jsxs(S,{value:"signup",children:[e.jsxs(E,{children:[e.jsx(M,{className:"text-white",children:"Create Account"}),e.jsx(D,{className:"text-gray-400",children:"Join the YipYip community today"})]}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs(v,{onClick:k,disabled:a,className:"w-full bg-white text-black hover:bg-gray-100 border border-gray-300",children:[a?e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(L,{className:"w-full bg-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:re,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"signup-name",className:"text-gray-300",children:"Full Name"}),e.jsx(b,{id:"signup-name",type:"text",placeholder:"Your full name",value:d.fullName,onChange:i=>j({...d,fullName:i.target.value}),required:!0,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"signup-email",className:"text-gray-300",children:"Email"}),e.jsx(b,{id:"signup-email",type:"email",placeholder:"your@email.com",value:d.email,onChange:i=>j({...d,email:i.target.value}),required:!0,className:"bg-gray-800 border-gray-700 text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"signup-password",className:"text-gray-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"signup-password",type:t?"text":"password",placeholder:"Create a password",value:d.password,onChange:i=>j({...d,password:i.target.value}),required:!0,className:"bg-gray-800 border-gray-700 text-white pr-10"}),e.jsx(v,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-white",onClick:()=>o(!t),children:t?e.jsx(z,{className:"h-4 w-4"}):e.jsx(_,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"signup-confirm-password",className:"text-gray-300",children:"Confirm Password"}),e.jsx(b,{id:"signup-confirm-password",type:"password",placeholder:"Confirm your password",value:d.confirmPassword,onChange:i=>j({...d,confirmPassword:i.target.value}),required:!0,className:"bg-gray-800 border-gray-700 text-white"})]}),l&&e.jsx(B,{className:"bg-red-900/20 border-red-800",children:e.jsx(O,{className:"text-red-400",children:l})}),e.jsx(v,{type:"submit",className:"w-full bg-[#FDBD34] text-black hover:bg-[#FDBD34]/80",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})]})]})]})}),e.jsx("div",{className:"text-center",children:e.jsx(v,{variant:"link",onClick:()=>g("/"),className:"text-gray-400 hover:text-white",children:"‚Üê Back to Home"})})]})})};export{Ie as default};
