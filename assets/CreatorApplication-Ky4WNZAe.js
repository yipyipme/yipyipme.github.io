import{c as D,i as k,k as B,r as d,j as e,t as f,m as N,N as F,O as A,Q as L,W as T,X as E,B as Y,L as q,s as S,_ as h,n as x,q as I,E as M}from"./index-Ct_SM0vh.js";import{L as o}from"./label-BVRhAaC2.js";import{T as w}from"./textarea-CBKetNLb.js";import{C as y,a as g,b as j,c as b,d as _}from"./card-INzX4pkU.js";import{B as C}from"./book-open-DSlMyBw5.js";import{C as R}from"./circle-alert-CsA9kWpQ.js";import{C as O}from"./circle-x-oEdiEW2d.js";import{C as U}from"./circle-check-big-JBAxZNx4.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=D("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),P=()=>{const{user:c}=k(),{toast:n}=B(),[r,m]=d.useState(!1),[a,i]=d.useState({channel_name:"",channel_description:"",content_type:"",ministry_background:"",sample_content_urls:["","",""]}),p=async t=>{if(t.preventDefault(),!!c){m(!0);try{const{error:s}=await S.from("creator_applications").insert({user_id:c.id,channel_name:a.channel_name,channel_description:a.channel_description,content_type:a.content_type,ministry_background:a.ministry_background,sample_content_urls:a.sample_content_urls.filter(l=>l.trim()!=="")});if(s)throw s;n({title:"Application Submitted!",description:"Your creator application has been submitted for review. You'll receive an email when it's processed."}),i({channel_name:"",channel_description:"",content_type:"",ministry_background:"",sample_content_urls:["","",""]})}catch(s){console.error("Error submitting application:",s),n({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}finally{m(!1)}}},u=[{value:"sermons",label:"Sermons & Teachings",icon:C},{value:"worship",label:"Worship Music",icon:V},{value:"bible-study",label:"Bible Studies",icon:C},{value:"testimonies",label:"Testimonies",icon:f},{value:"youth",label:"Youth Content",icon:h},{value:"family",label:"Family Content",icon:h},{value:"other",label:"Other Christian Content",icon:h}];return e.jsxs(y,{className:"max-w-2xl mx-auto",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-6 w-6 text-[#FDBD34]"}),"Apply to Become a Creator"]}),e.jsx(b,{children:"Join our community of Christian content creators and share your ministry with the world."})]}),e.jsx(_,{children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"channel_name",children:"Channel Name *"}),e.jsx(N,{id:"channel_name",value:a.channel_name,onChange:t=>i({...a,channel_name:t.target.value}),placeholder:"Enter your channel name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"channel_description",children:"Channel Description *"}),e.jsx(w,{id:"channel_description",value:a.channel_description,onChange:t=>i({...a,channel_description:t.target.value}),placeholder:"Describe your ministry and the type of content you plan to create",className:"min-h-[100px]",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"content_type",children:"Primary Content Type *"}),e.jsxs(F,{value:a.content_type,onValueChange:t=>i({...a,content_type:t}),children:[e.jsx(A,{children:e.jsx(L,{placeholder:"Select your primary content type"})}),e.jsx(T,{children:u.map(t=>{const s=t.icon;return e.jsx(E,{value:t.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{className:"h-4 w-4"}),t.label]})},t.value)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"ministry_background",children:"Ministry Background"}),e.jsx(w,{id:"ministry_background",value:a.ministry_background,onChange:t=>i({...a,ministry_background:t.target.value}),placeholder:"Tell us about your ministry experience, calling, and vision",className:"min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{children:"Sample Content (Optional)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Share up to 3 URLs of your existing content to help us review your application"}),a.sample_content_urls.map((t,s)=>e.jsx(N,{value:t,onChange:l=>{const v=[...a.sample_content_urls];v[s]=l.target.value,i({...a,sample_content_urls:v})},placeholder:`Sample content URL ${s+1}`,type:"url"},s))]}),e.jsx(Y,{type:"submit",disabled:r||!a.channel_name||!a.channel_description||!a.content_type,className:"w-full bg-[#FDBD34] text-black hover:bg-[#FDBD34]/80",children:r?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Application..."]}):"Submit Application"})]})})]})},K=()=>{const{user:c,profile:n}=k(),[r,m]=d.useState(null),[a,i]=d.useState(!0);d.useEffect(()=>{c&&p()},[c]);const p=async()=>{if(c)try{const{data:s,error:l}=await S.from("creator_applications").select("*").eq("user_id",c.id).order("submitted_at",{ascending:!1}).limit(1).maybeSingle();l&&l.code!=="PGRST116"?console.error("Error fetching application:",l):m(s)}catch(s){console.error("Error fetching application:",s)}finally{i(!1)}},u=s=>{switch(s){case"approved":return e.jsx(U,{className:"h-5 w-5 text-green-500"});case"rejected":return e.jsx(O,{className:"h-5 w-5 text-red-500"});case"pending":return e.jsx(M,{className:"h-5 w-5 text-yellow-500"});default:return e.jsx(R,{className:"h-5 w-5 text-gray-500"})}},t=s=>{switch(s){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return a?e.jsx(x,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:"Loading..."})})}):(n==null?void 0:n.role)==="creator"||(n==null?void 0:n.role)==="admin"?e.jsx(x,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(y,{className:"max-w-2xl mx-auto",children:[e.jsxs(g,{children:[e.jsx(j,{children:"You're Already a Creator!"}),e.jsx(b,{children:"You have creator access and can start uploading content."})]}),e.jsx(_,{children:e.jsx("a",{href:"/creator-studio",className:"inline-block bg-[#FDBD34] text-black px-6 py-3 rounded-lg hover:bg-[#FDBD34]/80 transition-colors",children:"Go to Creator Studio"})})]})})}):e.jsx(x,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:r?e.jsxs(y,{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[u(r.status),"Application Status"]}),e.jsxs(b,{children:["Your creator application submitted on ",new Date(r.submitted_at).toLocaleDateString()]})]}),e.jsxs(_,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(I,{className:t(r.status),children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Channel Name:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.channel_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Content Type:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.content_type})]}),r.review_notes&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Review Notes:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.review_notes})]}),r.status==="pending"&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Your application is being reviewed. We'll notify you via email once a decision has been made."})}),r.status==="rejected"&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:"Your application was not approved. You can submit a new application after addressing the feedback above."})})]})]}):e.jsx(P,{})})})};export{K as default};
